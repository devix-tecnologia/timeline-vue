import{d as C,r as h,m as E,f as g,p as P,g as D,q as w,l as k,F as j,A,o as n}from"./vue.esm-bundler-fc91e5f6.js";import{E as x}from"./EventoTimeline-6c33c365.js";import{S as V}from"./SeparadorPeriodo-849d6bef.js";import{P as F}from"./PerfilTimeline-6bdf2348.js";/* empty css                 */import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const q=C({props:{perfilTimeline:{required:!1,type:Object},eventosTimeline:{required:!0,type:Array}},components:{PerfilTimeline:F,SeparadorPeriodo:V,EventoTimeline:x},emits:{eventoClick:s=>!0},setup(s,{emit:b}){const Z=e=>{b("eventoClick",e)},u=h(s.eventosTimeline);let _=h(u);function m(){const e=v(u);u.forEach(t=>{const o=e.length>0&&e[0]===t;t.atual=o,t.scroll=o}),c()}const p=()=>{setInterval(m,6e4)},f=(e,t)=>{const o=e.getDay()===t.getDay(),l=e.getMonth()===t.getMonth(),i=e.getFullYear()===t.getFullYear();return o&&l&&i},v=e=>{if(e){const t=Date.now();let o=null,l=[];for(const i of e){const r=i.data.getTime();if(i.status==="planejado"||i.status==="atrasado"){const d=Math.abs(t-i.data.getTime());if(o===null||d<o&&r<=t)o=d,l.length=0;else if(d>o)continue;l.push(i)}}return l}else return[]},a=E(()=>{p();const e=_.sort((t,o)=>t.data.getTime()-o.data.getTime());if(e){let t=[],o=null,l=0,i;for(const r of e){const d=new Date,T=r.data;i=r.status;const y=r.tolerancia*60*1e3;i==="planejado"&&T.getTime()+y<d.getTime()&&(r.status="atrasado"),(!o||!f(o,T))&&(o=T,t.push({tipo:"dia",valor:r.data,key:++l})),t.push({tipo:"evento",valor:r,key:++l})}return t}else return[]}),c=()=>{const e=document.querySelector(".atual");!e||!e.scrollIntoView||e.scrollIntoView({behavior:"smooth",block:"center"})};return m(),{eventosPorTipo:a,scrollParaItemAtual:c,emitirEventoClick:Z}},mounted(){this.scrollParaItemAtual()}});const S={class:"areaTimeline"},I={class:"timeline"};function $(s,b,Z,u,_,m){const p=g("PerfilTimeline"),f=g("SeparadorPeriodo"),v=g("EventoTimeline");return n(),P("div",S,[s.perfilTimeline?(n(),D(p,{key:0,nomePerfil:s.perfilTimeline.nome,imagemPerfil:s.perfilTimeline.imagem,iconePerfil:s.perfilTimeline.icone,"data-testid":"perfilTimeline"},null,8,["nomePerfil","imagemPerfil","iconePerfil"])):w("",!0),k("section",I,[(n(!0),P(j,null,A(s.eventosPorTipo,(a,c)=>(n(),P("div",{key:a.key},[a.tipo==="dia"?(n(),D(f,{key:0,dataSeparador:a.valor,"data-testid":`evento-timeline-${c}`},null,8,["dataSeparador","data-testid"])):w("",!0),a.tipo==="evento"?(n(),D(v,{key:1,status:a.valor.status,criticidade:a.valor.criticidade,previstoPara:a.valor.previstoPara,"realizado-em":a.valor.realizado,categoria:a.valor.categoria,titulo:a.valor.titulo,subtitulo:a.valor.subtitulo,"texto-destaque":a.valor.destaque,ehAtual:a.valor.atual,onClick:e=>s.emitirEventoClick(a.valor),"data-testid":`evento-timeline-${c}`},null,8,["status","criticidade","previstoPara","realizado-em","categoria","titulo","subtitulo","texto-destaque","ehAtual","onClick","data-testid"])):w("",!0)]))),128))])])}const O=z(q,[["render",$]]);q.__docgenInfo={exportName:"default",displayName:"Timeline",description:"",tags:{},props:[{name:"perfilTimeline",type:{name:"Perfil"},required:!1},{name:"eventosTimeline",type:{name:"Evento[]"},required:!0}],events:[{name:"eventoClick"}],sourceFiles:["/home/runner/work/timeline-vue/timeline-vue/src/components/timeline/organismos/Timeline.vue"]};const Y={nome:"Maria do Socorro",imagem:"https://this-person-does-not-exist.com/img/avatar-gen11071f8e0802a35d66684ee9376722b2.jpg",icone:"person"},G=[{data:new Date("2023-04-26T19:00Z"),previstoPara:new Date("2023-04-26T19:00Z"),realizado:new Date("2023-04-26T19:30Z"),tolerancia:10,titulo:"Vacina da Covid",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"realizado",criticidade:"media",atual:!1,scroll:!1},{data:new Date("2023-04-26T18:10Z"),previstoPara:new Date("2023-04-26T18:10Z"),realizado:new Date("2023-04-26T18:15Z"),tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"cancelado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T11:00Z"),previstoPara:new Date("2023-05-03T11:00Z"),tolerancia:10,titulo:"Ligar para médica",subtitulo:"",destaque:"",categoria:{nome:"Ligação",icone:"call"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T15:00Z"),previstoPara:new Date("2023-05-03T15:00Z"),tolerancia:10,titulo:"Passeio no parque",subtitulo:"",destaque:"",categoria:{nome:"Passeio",icone:"tour"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T20:00Z"),previstoPara:new Date("2023-05-03T20:00Z"),tolerancia:10,titulo:"Exames do coração",subtitulo:"Hospital do Coração",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"planejado",criticidade:"media",atual:!1,scroll:!1},{data:new Date("2023-04-01T12:00Z"),previstoPara:new Date("2023-04-01T12:00Z"),tolerancia:10,titulo:"Consulta",subtitulo:"Posto de saúde",destaque:"Remarcado",categoria:{nome:"Tele consulta",icone:"call"},status:"adiado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-04-01T13:00Z"),previstoPara:new Date("2023-04-01T13:00Z"),tolerancia:10,titulo:"Consulta cardiologista",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"realizado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T12:00Z"),previstoPara:new Date("2023-05-03T12:00Z"),tolerancia:10,titulo:"Dentista",subtitulo:"Reta da Penha",destaque:"",categoria:{nome:"Dentista",icone:"dentistry"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T13:00Z"),previstoPara:new Date("2023-05-03T13:00Z"),tolerancia:10,titulo:"Consulta",subtitulo:"Hospital central",destaque:"",categoria:{nome:"Consulta",icone:"health_and_safety"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T14:27Z"),previstoPara:new Date("2023-05-03T14:27Z"),tolerancia:10,titulo:"Remédio de pressão",subtitulo:"Aferir a pressão",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T15:00Z"),previstoPara:new Date("2023-05-03T15:00Z"),tolerancia:10,titulo:"Checar temperatura",subtitulo:"",destaque:"",categoria:{nome:"Termometro",icone:"thermometer_gain"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-08T16:00Z"),previstoPara:new Date("2023-05-08T16:00Z"),tolerancia:10,titulo:"Avaliação Física",subtitulo:"",destaque:"IMC: 28,4",categoria:{nome:"Avaliação Física",icone:"conditions"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-09T19:00Z"),previstoPara:new Date("2023-05-09T19:00Z"),tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-09T17:00Z"),previstoPara:new Date("2023-05-09T17:00Z"),tolerancia:10,titulo:"Vitamina D",subtitulo:"2 comprimidos",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-09T18:01Z"),previstoPara:new Date("2023-05-09T18:00Z"),tolerancia:10,titulo:"Fisioterapia",subtitulo:"",destaque:"",categoria:{nome:"Fisioterapia",icone:"physical_therapy"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1}];export{O as T,G as a,Y as d};
