import{d as x,i as Z,e as k,r as b,c as w,f as _,g as h,a as M,F as A,q as S,o as u}from"./vue.esm-bundler-8df72b13.js";import{E as V}from"./EventoTimeline-5ada498d.js";import{S as F}from"./SeparadorPeriodo-d9e17d30.js";import{P as I}from"./PerfilTimeline-2afb5f57.js";/* empty css                 */import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./IconeCategoria-3f455349.js";import"./IconeStatus-799bba3e.js";import"./DescricaoEvento-f1232e43.js";import"./SubtituloEvento-38de7ef0.js";import"./TituloEvento-0ada758f.js";import"./HoraEvento-47b8bf9e.js";import"./Hora-0c9eae7e.js";import"./Destaque-328beeaa.js";import"./BoxData-fad95703.js";import"./AvatarTimeline-ac7dfe2b.js";const z=x({props:{perfilTimeline:{required:!1,type:Object},eventosTimeline:{required:!0,type:Object}},components:{PerfilTimeline:I,SeparadorPeriodo:F,EventoTimeline:V},setup(t){const l=Z(t.eventosTimeline);let n=Z(l);function c(){n=l;const e=v(n);n.map(a=>(e[0]===a?(a.atual=!0,a.scroll=!0,f()):(a.atual=!1,a.scroll=!1),{evento:a}))}const d=()=>{setInterval(c,6e4)},T=(e,a)=>{const o=e.getDay()===a.getDay(),r=e.getMonth()===a.getMonth(),i=e.getFullYear()===a.getFullYear();return o&&r&&i},v=e=>{if(e){const a=Date.now();let o=null,r=[];for(const i of e){const s=i.data.getTime();if(i.status==="planejado"||i.status==="atrasado"){const m=Math.abs(a-i.data.getTime());if(o===null||m<o&&s<=a)o=m,r.length=0;else if(m>o)continue;r.push(i)}}return r}else return[]},g=k(()=>{d();const e=n.sort((a,o)=>a.data.getTime()-o.data.getTime());if(e){let a=[],o=null,r=0,i;for(const s of e){const m=new Date,D=s.data;i=s.status;const j=s.tolerancia*60*1e3;i==="planejado"&&D.getTime()+j<m.getTime()&&(s.status="atrasado"),(!o||!T(o,D))&&(o=D,a.push({tipo:"dia",valor:s.data,key:++r})),a.push({tipo:"evento",valor:s,key:++r})}return a}else return[]}),f=()=>{const e=document.querySelector(".atual");e==null||e.scrollIntoView({behavior:"smooth",block:"center"})};return c(),{eventosPorTipo:g,scrollParaItemAtual:f}},mounted(){this.scrollParaItemAtual()}});const L={class:"areaTimeline"},R={class:"timeline"};function B(t,l,n,c,d,T){const v=b("PerfilTimeline"),g=b("SeparadorPeriodo"),f=b("EventoTimeline");return u(),w("div",L,[t.perfilTimeline?(u(),_(v,{key:0,nomePerfil:t.perfilTimeline.nome,imagemPerfil:t.perfilTimeline.imagem,iconePerfil:t.perfilTimeline.icone},null,8,["nomePerfil","imagemPerfil","iconePerfil"])):h("",!0),M("section",R,[(u(!0),w(A,null,S(t.eventosPorTipo,e=>(u(),w("div",{key:e.key},[e.tipo==="dia"?(u(),_(g,{key:0,dataSeparador:e.valor},null,8,["dataSeparador"])):h("",!0),e.tipo==="evento"?(u(),_(f,{key:1,status:e.valor.status,criticidade:e.valor.criticidade,previsto:e.valor.previsto,realizado:e.valor.realizado,categoria:e.valor.categoria,titulo:e.valor.titulo,subtitulo:e.valor.subtitulo,destaque:e.valor.destaque,ehAtual:e.valor.atual,aoClicar:()=>{e&&e.valor&&e.valor.aoClicar&&e.valor.aoClicar(e.valor)}},null,8,["status","criticidade","previsto","realizado","categoria","titulo","subtitulo","destaque","ehAtual","aoClicar"])):h("",!0)]))),128))])])}const E=O(z,[["render",B]]);z.__docgenInfo={exportName:"default",displayName:"Timeline",description:"",tags:{},props:[{name:"perfilTimeline",type:{name:"object"},required:!1},{name:"eventosTimeline",type:{name:"object"},required:!0}],sourceFiles:["/home/runner/work/timeline-vue/timeline-vue/src/components/timeline/organismos/Timeline.vue"]};const N={nome:"Maria do Socorro",imagem:"https://this-person-does-not-exist.com/img/avatar-gen11071f8e0802a35d66684ee9376722b2.jpg",icone:"person"},C=[{data:new Date("2023-04-26T19:00Z"),previsto:new Date("2023-04-26T19:00Z"),realizado:new Date("2023-04-26T19:30Z"),duracao:null,tolerancia:10,titulo:"Vacina da Covid",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"realizado",criticidade:"media",atual:!1,scroll:!1},{data:new Date("2023-04-26T18:10Z"),previsto:new Date("2023-04-26T18:10Z"),realizado:new Date("2023-04-26T18:15Z"),duracao:null,tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"cancelado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T11:00Z"),previsto:new Date("2023-05-03T11:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Ligar para médica",subtitulo:"",destaque:"",categoria:{nome:"Ligação",icone:"call"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T15:00Z"),previsto:new Date("2023-05-03T15:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Passeio no parque",subtitulo:"",destaque:"",categoria:{nome:"Passeio",icone:"tour"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T20:00Z"),previsto:new Date("2023-05-03T20:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Exames do coração",subtitulo:"Hospital do Coração",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"planejado",criticidade:"media",atual:!1,scroll:!1},{data:new Date("2023-04-01T12:00Z"),previsto:new Date("2023-04-01T12:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta",subtitulo:"Posto de saúde",destaque:"Remarcado",categoria:{nome:"Tele consulta",icone:"call"},status:"adiado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-04-01T13:00Z"),previsto:new Date("2023-04-01T13:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta cardiologista",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"realizado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T12:00Z"),previsto:new Date("2023-05-03T12:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Dentista",subtitulo:"Reta da Penha",destaque:"",categoria:{nome:"Dentista",icone:"dentistry"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-03T13:00Z"),previsto:new Date("2023-05-03T13:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta",subtitulo:"Hospital central",destaque:"",categoria:{nome:"Consulta",icone:"health_and_safety"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T14:27Z"),previsto:new Date("2023-05-03T14:27Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Remédio de pressão",subtitulo:"Aferir a pressão",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{data:new Date("2023-05-03T15:00Z"),previsto:new Date("2023-05-03T15:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Checar temperatura",subtitulo:"",destaque:"",categoria:{nome:"Termometro",icone:"thermometer_gain"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-08T16:00Z"),previsto:new Date("2023-05-08T16:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Avaliação Física",subtitulo:"",destaque:"IMC: 28,4",categoria:{nome:"Avaliação Física",icone:"conditions"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-09T19:00Z"),previsto:new Date("2023-05-09T19:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{data:new Date("2023-05-09T17:00Z"),previsto:new Date("2023-05-09T17:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Vitamina D",subtitulo:"2 comprimidos",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"baixa",aoClicar:t=>alert("Olá, mundo!"),atual:!1,scroll:!1},{data:new Date("2023-05-09T18:01Z"),previsto:new Date("2023-05-09T18:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Fisioterapia",subtitulo:"",destaque:"",categoria:{nome:"Fisioterapia",icone:"physical_therapy"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1}],de={title:"Devix/Eventos/Organismos/Timeline",component:E,parameters:{componentSubtitle:"Linha do tempo padrão com identidade da Devix"},argTypes:{}},$=N,H=C;function Y(t){const l=new Date,n=l.getMonth()+1;for(let c=0;c<t.length;c++){const d=t[c];d.data.getMonth()+1>=n&&(d.data.setMonth(l.getMonth(),l.getDate()),d.previsto.setMonth(l.getMonth(),l.getDate()))}}Y(C);const G=t=>({components:{Timeline:E},setup(){return{args:t}},template:'<Timeline :perfilTimeline="args.perfilTimeline" :eventosTimeline="args.eventosTimeline" style="position: relative" />'}),p=G.bind({});p.args={perfilTimeline:$,eventosTimeline:H};var P,y,q;p.parameters={...p.parameters,docs:{...(P=p.parameters)==null?void 0:P.docs,source:{originalSource:`args => ({
  components: {
    Timeline: Timeline
  },
  setup() {
    return {
      args
    };
  },
  template: '<Timeline :perfilTimeline="args.perfilTimeline" :eventosTimeline="args.eventosTimeline" style="position: relative" />'
})`,...(q=(y=p.parameters)==null?void 0:y.docs)==null?void 0:q.source}}};const ue=["Padrao"];export{p as Padrao,ue as __namedExportsOrder,de as default};
//# sourceMappingURL=Timeline.stories-906b219c.js.map
