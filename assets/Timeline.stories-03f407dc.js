import{d as x,r as _,a as k,b as D,e as w,f as h,g as M,F as A,i as S,n as V,j as Z,o as u}from"./vue.esm-bundler-7082b39b.js";import{E as F}from"./EventoTimeline-61bd53d9.js";import{S as L}from"./SeparadorPeriodo-83dccb46.js";import{P as I}from"./PerfilTimeline-d5c6997f.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import"./IconeCategoria-c4efef16.js";import"./IconeStatus-d396b882.js";import"./DescricaoEvento-5b14aa65.js";import"./SubtituloEvento-4819db3c.js";import"./TituloEvento-40dca76d.js";import"./HoraEvento-d306b576.js";import"./Hora-c1990b3e.js";import"./Destaque-f2412ac0.js";import"./BoxData-c988bc1c.js";import"./AvatarTimeline-4dd1479b.js";const z=x({props:{perfilTimeline:{required:!0,type:Object},eventosTimeline:{required:!0,type:Object}},components:{PerfilTimeline:I,SeparadorPeriodo:L,EventoTimeline:F},setup(t){const l=_(t.eventosTimeline);let s=_(l);function d(){s=l;const e=g(s);s.map(a=>(e[0].id===a.id?(a.atual=!0,a.scroll=!0,f()):(a.atual=!1,a.scroll=!1),{evento:a}))}const c=()=>{setInterval(d,6e4)},T=(e,a)=>{const o=e.getDay()===a.getDay(),r=e.getMonth()===a.getMonth(),i=e.getFullYear()===a.getFullYear();return o&&r&&i},g=e=>{if(e){const a=Date.now();let o=null,r=[];for(const i of e){const n=i.data.getTime();if(i.status==="planejado"||i.status==="atrasado"){const m=Math.abs(a-i.data.getTime());if(o===null||m<o&&n<=a)o=m,r.length=0;else if(m>o)continue;r.push(i)}}return r}else return[]},v=k(()=>{c();const e=s.sort((a,o)=>a.data.getTime()-o.data.getTime());if(e){let a=[],o=null,r=0,i;for(const n of e){const m=new Date,b=n.data;i=n.status;const E=n.tolerancia*60*1e3;i==="planejado"&&b.getTime()+E<m.getTime()&&(n.status="atrasado"),(!o||!T(o,b))&&(o=b,a.push({tipo:"dia",valor:n.data,key:++r})),a.push({tipo:"evento",valor:n,key:++r})}return a}else return[]}),f=()=>{const e=document.querySelector(".atual");e==null||e.scrollIntoView({behavior:"smooth",block:"center"})};return d(),{eventosPorTipo:v,scrollParaItemAtual:f}},mounted(){this.scrollParaItemAtual()}});const R={class:"areaTimeline"};function B(t,l,s,d,c,T){const g=Z("PerfilTimeline"),v=Z("SeparadorPeriodo"),f=Z("EventoTimeline");return u(),D("div",R,[t.perfilTimeline!==null?(u(),w(g,{key:0,nomePerfil:t.perfilTimeline.nome,imagemPerfil:t.perfilTimeline.imagem,iconePerfil:t.perfilTimeline.icone},null,8,["nomePerfil","imagemPerfil","iconePerfil"])):h("",!0),M("section",{class:V(["timeline",{marginTop:t.perfilTimeline!==null}])},[(u(!0),D(A,null,S(t.eventosPorTipo,e=>(u(),D("div",{key:e.key},[e.tipo==="dia"?(u(),w(v,{key:0,dataSeparador:e.valor},null,8,["dataSeparador"])):h("",!0),e.tipo==="evento"?(u(),w(f,{key:1,status:e.valor.status,criticidade:e.valor.criticidade,previsto:e.valor.previsto,realizado:e.valor.realizado,categoria:e.valor.categoria,titulo:e.valor.titulo,subtitulo:e.valor.subtitulo,destaque:e.valor.destaque,ehAtual:e.valor.atual,aoCLicar:e.valor.aoCLicar},null,8,["status","criticidade","previsto","realizado","categoria","titulo","subtitulo","destaque","ehAtual","aoCLicar"])):h("",!0)]))),128))],2)])}const j=O(z,[["render",B]]);z.__docgenInfo={exportName:"default",displayName:"Timeline",description:"",tags:{},props:[{name:"perfilTimeline",type:{name:"object"},required:!0},{name:"eventosTimeline",type:{name:"object"},required:!0}],sourceFiles:["/home/runner/work/timeline-vue/timeline-vue/src/components/timeline/organismos/Timeline.vue"]};const N={nome:"Maria do Socorro",imagem:"https://this-person-does-not-exist.com/img/avatar-gen11071f8e0802a35d66684ee9376722b2.jpg",icone:"person"},C=[{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f1",data:new Date("2023-04-26T19:00Z"),previsto:new Date("2023-04-26T19:00Z"),realizado:new Date("2023-04-26T19:30Z"),duracao:null,tolerancia:10,titulo:"Vacina da Covid",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"realizado",criticidade:"media",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f2",data:new Date("2023-04-26T18:10Z"),previsto:new Date("2023-04-26T18:10Z"),realizado:new Date("2023-04-26T18:15Z"),duracao:null,tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"cancelado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f3",data:new Date("2023-05-03T11:00Z"),previsto:new Date("2023-05-03T11:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Ligar para médica",subtitulo:"",destaque:"",categoria:{nome:"Ligação",icone:"call"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f4",data:new Date("2023-05-03T15:00Z"),previsto:new Date("2023-05-03T15:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Passeio no parque",subtitulo:"",destaque:"",categoria:{nome:"Passeio",icone:"tour"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f5",data:new Date("2023-05-03T20:00Z"),previsto:new Date("2023-05-03T20:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Exames do coração",subtitulo:"Hospital do Coração",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"planejado",criticidade:"media",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f6",data:new Date("2023-04-01T12:00Z"),previsto:new Date("2023-04-01T12:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta",subtitulo:"Posto de saúde",destaque:"Remarcado",categoria:{nome:"Tele consulta",icone:"call"},status:"adiado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f7",data:new Date("2023-04-01T13:00Z"),previsto:new Date("2023-04-01T13:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta cardiologista",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Cardiologista",icone:"cardiology"},status:"realizado",criticidade:"alta",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f8",data:new Date("2023-05-03T12:00Z"),previsto:new Date("2023-05-03T12:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Dentista",subtitulo:"Reta da Penha",destaque:"",categoria:{nome:"Dentista",icone:"dentistry"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f9",data:new Date("2023-05-03T13:00Z"),previsto:new Date("2023-05-03T13:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Consulta",subtitulo:"Hospital central",destaque:"",categoria:{nome:"Consulta",icone:"health_and_safety"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f10",data:new Date("2023-05-03T14:27Z"),previsto:new Date("2023-05-03T14:27Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Remédio de pressão",subtitulo:"Aferir a pressão",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"alta",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f11",data:new Date("2023-05-03T15:00Z"),previsto:new Date("2023-05-03T15:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Checar temperatura",subtitulo:"",destaque:"",categoria:{nome:"Termometro",icone:"thermometer_gain"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f12",data:new Date("2023-05-08T16:00Z"),previsto:new Date("2023-05-08T16:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Avaliação Física",subtitulo:"",destaque:"IMC: 28,4",categoria:{nome:"Avaliação Física",icone:"conditions"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f13",data:new Date("2023-05-09T19:00Z"),previsto:new Date("2023-05-09T19:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Vacina da gripe",subtitulo:"Posto de saúde do bairro",destaque:"",categoria:{nome:"Vacina",icone:"vaccines"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f14",data:new Date("2023-05-09T17:00Z"),previsto:new Date("2023-05-09T17:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Vitamina D",subtitulo:"2 comprimidos",destaque:"",categoria:{nome:"Remédio",icone:"pill"},status:"planejado",criticidade:"baixa",aoCLicar:()=>alert("Olá, mundo!"),atual:!1,scroll:!1},{id:"15ea7863-2402-4b84-8a8d-10a00ba07e2f15",data:new Date("2023-05-09T18:01Z"),previsto:new Date("2023-05-09T18:00Z"),realizado:null,duracao:null,tolerancia:10,titulo:"Fisioterapia",subtitulo:"",destaque:"",categoria:{nome:"Fisioterapia",icone:"physical_therapy"},status:"planejado",criticidade:"baixa",atual:!1,scroll:!1}],de={title:"Devix/Timeline/Organismos/Timeline",component:j,parameters:{componentSubtitle:"Linha do tempo padrão com identidade da Devix"},argTypes:{}},$=N,H=C;function Y(t){const l=new Date,s=l.getMonth()+1;for(let d=0;d<t.length;d++){const c=t[d];c.data.getMonth()+1>=s&&(c.data.setMonth(l.getMonth(),l.getDate()),c.previsto.setMonth(l.getMonth(),l.getDate()))}}Y(C);const G=t=>({components:{Timeline:j},setup(){return{args:t}},template:'<Timeline :perfilTimeline="args.perfilTimeline" :eventosTimeline="args.eventosTimeline" style="position: relative" />'}),p=G.bind({});p.args={perfilTimeline:$,eventosTimeline:H};var P,y,q;p.parameters={...p.parameters,docs:{...(P=p.parameters)==null?void 0:P.docs,source:{originalSource:`args => ({
  components: {
    Timeline: Timeline
  },
  setup() {
    return {
      args
    };
  },
  template: '<Timeline :perfilTimeline="args.perfilTimeline" :eventosTimeline="args.eventosTimeline" style="position: relative" />'
})`,...(q=(y=p.parameters)==null?void 0:y.docs)==null?void 0:q.source}}};const ce=["Padrao"];export{p as Padrao,ce as __namedExportsOrder,de as default};
//# sourceMappingURL=Timeline.stories-03f407dc.js.map
